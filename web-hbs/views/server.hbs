<script src="https://cdn.socket.io/4.4.0/socket.io.min.js" integrity="sha384-1fOn6VtTq3PWwfsOrk45LnYcGosJwzMHv+Xh/Jx5303FVOXzEnw0EpLv30mtjmlj" crossorigin="anonymous"></script>
<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

<h1>{{title}}</h1>
<p>Welcome to {{title}}</p>
<h2>
<div id='wrapper'>
    <button type="button" id="good" value="good">good</button>
    <button type="button" id="so_good" value="so_good">so_good</button>
    <button type="button" id="stand" value="stand">stand</button>
    <button type="button" id="sit" value="sit">sit</button>
    <button type="button" id="kneel" value="kneel">kneel</button>
</div>
</h2>

<div class="box" id="log">

</div>

<script>

  window.console.log = function(txt) {
    $("#log").append("<br/>");
    $("#log").append(txt);
    $("#log").append("<br/>");
  }

  var socket = io.connect();
  socket.on('connection', (socket) => {
    console.log('connected');
  });
  var wrapper = document.getElementById("wrapper");
  wrapper.addEventListener('click', function(event) {
      const isButton = event.target.nodeName === 'BUTTON';
      if (!isButton) {
       return;
      }

     socket.emit('play_sound', event.target.value);
  });
  
  socket.on('connection', (socket) => {
    console.log('connected');
  });
    socket.on('connect', function(){
    console.log('connect')
  });
    socket.on('disconnect', function(){
    console.log('disconnect')
  });
  socket.on('play_sound', function(msg){
    console.log(msg)
  });
  
</script>

